# 坐标变换

## 线性变换

- 假设坐标系 $C'$ 中的的坐标 $(x',y',z')$ 可以表示为坐标 $C$ 中的 $(x,y,z)$ 坐标的线性函数，下式构成了从坐标 $C$ 到坐标 $C'$ 的一个线性变换

  $$
  x'(x,y,z)=U_1x+V_1y+W_1z+T_1 \\
  y'(x,y,z)=U_2x+V_2y+W_2z+T_2 \\
  z'(x,y,z)=U_3x+V_3y+W_3z+T_3
  $$
  $$
  \begin{bmatrix}x' \\ y' \\ z'\end{bmatrix}=
  \begin{bmatrix}
  U_1 & V_1 & W_1 \\
  U_2 & V_2 & W_2 \\
  U_3 & V_3 & W_3
  \end{bmatrix}
  \begin{bmatrix}x \\ y \\ z\end{bmatrix}+
  \begin{bmatrix}T_1 \\ T_2 \\ T_3\end{bmatrix}
  $$

- 假设上述线性变换可逆，则 $C'$ 坐标系到 $C$ 坐标系的线性变换如下

  $$
  \begin{bmatrix}x \\ y \\ z\end{bmatrix}=
  \begin{bmatrix}
  U_1 & V_1 & W_1 \\
  U_2 & V_2 & W_2 \\
  U_3 & V_3 & W_3
  \end{bmatrix}^{-1}
  \begin{bmatrix}
  \begin{bmatrix}x' \\ y' \\ z'\end{bmatrix}-
  \begin{bmatrix}T_1 \\ T_2 \\ T_3\end{bmatrix}
  \end{bmatrix}
  $$

- 多个线性变换可以合并起来用一个矩阵和平移向量表示

### 正交矩阵

- 计算机图形学应用中，多数的 $3\times 3$ 矩阵是正交矩阵
- **定义 1**：一个可逆的 $n\times n$ 矩阵 $M$，当且仅当 $M^{-1}=M^T$ 时，矩阵 $M$ 为正交矩阵
- **定理 2**：如果一组向量 $V_1,V_2,\cdots,V_n$ 形成一个正交向量集合，对所有的 $1\le j\le n$，令 $n\times n$ 矩阵的第 $j$ 列，等于向量 $V_j$，构成的矩阵为正交矩阵
- **定理 3**：如果 $n\times n$ 矩阵 $M$ 是正交矩阵，该矩阵可保持被变换向量的长度和角度
- 正交矩阵可保持坐标系的整体结构不变，因此仅可用于旋转变换和反射变换或二者的组合变换

### 偏手性
