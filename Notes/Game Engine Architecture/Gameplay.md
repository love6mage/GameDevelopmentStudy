# Gameplay

## Introduction to Gameplay Systems

- 游戏玩法可以定义为玩游戏的整体体验。游戏机制（`game mechanics`）是游戏玩法更具体的说法，通常定义为一组管理游戏中各种实体间交互的规则，还定义玩家目标、胜利或失败标准、玩家角色能力、非玩家实体的数量和类型、游戏体验的整体流程等
- 论文 “A Survey of ‘Game’ Portability” 中将用于实现游戏玩法的软件系统集合称为 `G-factor`

### Anatomy of a Game World

#### World Elements

- 组成游戏世界的离散元素分为静态元素和动态元素
- 实现游戏玩法的软件系统主要关注动态元素的状态，游戏状态（`game state`）指作为一个整体的所有动态元素的当前状态
- 静态元素与动态元素的分别通常有点模糊（如具有可破坏环境的游戏），它们的分别主要用作优化工具
- `Static Geometry` 静态元素几何通常在 Maya 这样的工具中定义，组建游戏世界的静态部分时可以实例化多次
  - `Brush geometry` 画笔几何，来源于 Quake 引擎家族，可以构建静态元素和碰撞数据。一个画笔将一个形状描述为一组凸体，每个凸体以一组平面为界。画笔几何可以快速简单地创建和集成到基于 BSP 树的渲染引擎中。画笔对于快速组成游戏世界的内容非常有用，允许游戏玩法尽早进行测试。如果布局有价值，美术团队可以对画笔几何进行纹理映射和微调，或者将其替换为更详细的自定义网格资产；如果布局需要重新设计，画笔几何可以很容易地修改

#### World Chunks

- 大的虚拟游戏世界通常分为离散的可玩区域，称为世界块（`world chunks`），块也称为关卡（`levels`）、地图（`maps`）、阶段（`stage`）或区域（`areas`）
- 最初，关卡的概念用于在早期游戏硬件的有限内存中提供游戏玩法的变化；现在这个概念在许多方向分支，有些游戏块间界限并不明显，有些游戏使用星型拓扑，有些游戏使用图拓扑，有些游戏使用 LOD 技术提供一个广阔、开放世界的幻想
- 现在许多游戏世界仍然分为某种块
  - 内存限制仍然是重要约束
  - 块是控制游戏整体流程的方便的机制
  - 块可以用作分工机制

#### High-Level Game Flow

- 游戏的高级流程定义玩家目标的一个序列、树或图，目标有时称为任务（`tasks`）、阶段（`stages`）、关卡（`level`）或波（`waves`，如果游戏主要关于击败成群的敌人）。高级流程还提供每个目标成功的定义和失败的惩罚，在故事驱动游戏中还包含各种游戏内电影
- 早期游戏玩家目标与世界块一一对应，现在这种对应很少，一个目标可以关联多个块，且耦合很松，这种设计提供了独立改变游戏目标和世界划分的灵活性。许多游戏将目标分为粗略的游戏部分，通常称为章（`chapters`）或幕（`acts`）

  ![GameObjectives](Images/GameObjectives.PNG)

### Implementing Dynamic Elements: Game Objects
